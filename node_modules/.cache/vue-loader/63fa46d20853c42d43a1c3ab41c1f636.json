{"remainingRequest":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/songyu/IdeaProjects/yiqing-admin-1/src/views/Health/HealthList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/src/views/Health/HealthList.vue","mtime":1621490343093},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YWRkLCBkZWwsIG1vZGlmeSwgZ2V0LCBzZWFyY2h9IGZyb20gIkAvYXBpL2hlYWx0aCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlYWx0aExpc3QiLAogIC8vIGNvbXBvbmVudHM6IHsgRmlsZW5hbWVPcHRpb24sIEF1dG9XaWR0aE9wdGlvbiwgQm9va1R5cGVPcHRpb24gfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9sZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5yb2xlcywKICAgICAgc3R1ZGVudERhdGE6IFtdLAogICAgICBlZGl0Rm9ybURhdGE6IFtdLAogICAgICBhZGRGb3JtZGF0YTogewogICAgICAgIHVzZXJJZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCwKICAgICAgfSwKICAgICAgdmlzaWJsZUFkZEZvcm06IGZhbHNlLAogICAgICB2aXNpYmxlTW9kaWZ5Rm9ybTogZmFsc2UsCiAgICAgIGtleXdvcmQ6IHsKICAgICAgICBncm91cDogJycsCiAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgZmV2ZXI6ICcnLAogICAgICAgIHRlbXBlcmF0dXJlOiAnJywKICAgICAgICBjb3VnaDogJycsCiAgICAgICAgcm9sZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5yb2xlcywKICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuaWQsCiAgICAgICAgbWFqb3I6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIubWFqb3IKICAgICAgfSwKICAgICAgcGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgdmFsdWUxOiAiIiwgLy8g5bm057qnCiAgICAgIHZhbHVlMjogIiIsIC8vIOePree6pwogICAgICB0eXBlOiBbCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICIxIiwKICAgICAgICAgIGxhYmVsOiAiIgogICAgICAgIH0KICAgICAgXSwKICAgICAgdmlzaWJsZUZvcm06IGZhbHNlLAogICAgICBlZGl0Rm9ybVJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXmmLXnp7AiLCB0cmlnZ2VyOiAiYmx1ciJ9XSwKICAgICAgICByZWFsbmFtZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWnk+WQjSIsIHRyaWdnZXI6ICJibHVyIn1dLAogICAgICAgIHRlbGVwaG9uZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeiBlOezu+eUteivnSIsIHRyaWdnZXI6ICJibHVyIn1dLAogICAgICAgIGVtYWlsOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6YKu5Lu2IiwgdHJpZ2dlcjogImJsdXIifV0sCiAgICAgICAgYWRkcmVzczogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWcsOWdgCIsIHRyaWdnZXI6ICJibHVyIn1dLAogICAgICB9CiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFsbFN0dWRlbnQoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVEb3dubG9hZCgpIHsKICAgICAgdGhpcy5kb3dubG9hZExvYWRpbmcgPSB0cnVlCiAgICAgIGltcG9ydCgnQC92ZW5kb3IvRXhwb3J0MkV4Y2VsJykudGhlbihleGNlbCA9PiB7CiAgICAgICAgY29uc3QgdEhlYWRlciA9IFsn5a2m5Y+3Jywn5pe26Ze0JyAsJ+aXtumXtOautScsICfooYznqIvovajov7knLCAn5L2T5ripJywgJ+WSs+WXvScsJ+WPkeeDpyddCiAgICAgICAgY29uc3QgZmlsdGVyVmFsID0gWyd1c2VySWQnLCdjcmVhdGVUaW1lJywgJ3R5cGUnLCAndmlzaXQnLCAndGVtcGVyYXR1cmUnLCAnY291Z2gnLCdmZXZlciddCiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuc3R1ZGVudERhdGEKICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5mb3JtYXRKc29uKGZpbHRlclZhbCwgbGlzdCkKICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICBoZWFkZXI6IHRIZWFkZXIsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWUsCiAgICAgICAgICBhdXRvV2lkdGg6IHRoaXMuYXV0b1dpZHRoLAogICAgICAgICAgYm9va1R5cGU6IHRoaXMuYm9va1R5cGUKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGZvcm1hdEpzb24oZmlsdGVyVmFsLCBqc29uRGF0YSkgewogICAgICByZXR1cm4ganNvbkRhdGEubWFwKHYgPT4gZmlsdGVyVmFsLm1hcChqID0+IHsKICAgICAgICBpZiAoaiA9PT0gJ2ZldmVyJ3x8IGogPT09ICdjb3VnaCcpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdEgxKHZbal0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB2W2pdCiAgICAgICAgfQogICAgICB9KSkKICAgIH0KICAgICwKICAgIGZvcm1hdEgxKGRhdGEpewogICAgICBpZiAoZGF0YSA9PSAnMCcpIHsKICAgICAgICByZXR1cm4gJ+aXoCcKICAgICAgfWVsc2V7CiAgICAgICAgcmV0dXJuICfmnIknCiAgICAgIH0KICAgIH0KICAgICwKICAgIHN0YXR1c0Zvcm1hdHRlcihkYXRhKSB7CiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnMCcpIHsKICAgICAgICByZXR1cm4gJ+W+heWuoeaJuScKICAgICAgfQogICAgfSwKICAgIGFkZFN0dWRlbnQoKSB7CiAgICAgIHRoaXMudmlzaWJsZUFkZEZvcm0gPSB0cnVlOwogICAgfSwKICAgIGFkZENvbW1pdCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5hZGRGb3JtZGF0YSk7CiAgICAgIGFkZCh0aGlzLmFkZEZvcm1kYXRhKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgICB0aGlzLnZpc2libGVBZGRGb3JtID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICLmt7vliqDmiJDlip8iLCB0eXBlOiAic3VjY2VzcyJ9KTsKICAgICAgICAgICAgdGhpcy5hbGxTdHVkZW50KCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqDlpLHotKUiKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmuIXnqbrlubTnuqflm57liLDmn6Xor6LmiYDmnInnlKjmiLcKICAgIGdyYWRlTGlzdGVuZXIoKSB7CiAgICAgIHRoaXMuYWxsU3R1ZGVudCgpCiAgICAgIHRoaXMudmFsdWUyID0gJycKICAgIH0sCgogICAgLy8g5riF56m654+t57qn5Zue5Yiw5p+l6K+i5omA5pyJ54+t57qnCiAgICBjbGFzc0xpc3RlbmVyKCkgewoKICAgIH0sCgogICAgLyoqKgogICAgICog57yW6L6R5o+Q5LqkCiAgICAgKi8KICAgIGNvbW1pdCgpIHsKICAgICAgdGhpcy5tb2RpZnlTdHVkZW50KHRoaXMuZWRpdEZvcm1EYXRhKQogICAgfSwKCiAgICBpbnB1dExpc3RlbmVyKCkgewogICAgICB0aGlzLmFsbFN0dWRlbnQoKQogICAgfSwKCiAgICAvKioKICAgICAqIOafpeivouaJgOaciQogICAgICovCiAgICBhbGxTdHVkZW50KCkgewogICAgICBnZXQodGhpcy5wYWdlLHRoaXMucGFnZVNpemUsdGhpcy5yb2xlLAogICAgICAgIHRoaXMua2V5d29yZC51c2VySWQsIHRoaXMua2V5d29yZC5tYWpvcikudGhlbihyZXMgPT4gewogICAgICAgIGxldCByZXQgPSByZXMuZGF0YQogICAgICAgIGNvbnNvbGUubG9nKHJldCkKICAgICAgICB0aGlzLnN0dWRlbnREYXRhID0gcmV0LnJlY29yZHMKICAgICAgICB0aGlzLnRvdGFsID0gcmV0LnRvdGFsCiAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuafpeivouWIl+ihqOWksei0pSIpCiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5YWz6ZSu5a2X5p+l6K+iCiAgICAgKi8KICAgIHNlYXJjaFN0dWRlbnQoKSB7CiAgICAgIHNlYXJjaCh0aGlzLmtleXdvcmQpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGxldCByZXQgPSByZXMuZGF0YQogICAgICAgICAgdGhpcy5zdHVkZW50RGF0YSA9IHJldC5yZWNvcmRzCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmV0LnRvdGFsCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAi5p+l6K+i5oiQ5YqfIiwgdHlwZTogInN1Y2Nlc3MifSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmn6Xor6LlpLHotKUiKQogICAgICAgIH0pOwogICAgfSwKCiAgICByZXNldEJ5SWQoaW5kZXgsIHJvdykgewogICAgICB0aGlzLnJlc2V0UGFzc3dvcmQocm93LmlkKTsKICAgIH0sCgogICAgcmVzZXRQYXNzd29yZChpZCkgewogICAgICBtb2RpZnkoeyJpZCI6IGlkLCAicGFzc3dvcmQiOiAiMTIzNDU2In0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICLph43nva7lr4bnoIHmiJDlip8iLCB0eXBlOiAic3VjY2VzcyJ9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLph43nva7lr4bnoIHlpLHotKUiKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgZGVsZXRlQnlJZChpbmRleCwgcm93KSB7CiAgICAgIHRoaXMuZGVsZXRlUmVxdWVzdEJ5SWQocm93LmlkKQogICAgfSwKCiAgICBkZWxldGVSZXF1ZXN0QnlJZChpZCkgewogICAgICBkZWwoaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIiwgdHlwZTogInN1Y2Nlc3MifSkKICAgICAgICB0aGlzLmFsbFN0dWRlbnQoKQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk5aSx6LSlIikKICAgICAgfSk7CiAgICB9LAoKICAgIC8q5a6h5qC454q25oCBKi8KICAgIHN0YXR1c0J5SWQoaW5kZXgsIHJvdywgc3RhdHVzKSB7CiAgICAgIHRoaXMuc3RhdHVzUmVxdWVzdEJ5SWQocm93LmlkLCBzdGF0dXMpCiAgICB9LAoKICAgIHN0YXR1c1JlcXVlc3RCeUlkKGlkLCBzdGF0dXMpIHsKICAgICAgbW9kaWZ5KHsiaWQiOiBpZCwgInN0YXR1cyI6IHN0YXR1c30pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHttZXNzYWdlOiAi5aSE55CG5oiQ5YqfIiwgdHlwZTogInN1Y2Nlc3MifSkKICAgICAgICB0aGlzLmFsbFN0dWRlbnQoKQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5aSE55CG5aSx6LSlIikKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog57yW6L6R55So5oi3CiAgICAgKi8KICAgIHNob3dFZGl0Rm9ybShpbmRleCwgcm93KSB7CiAgICAgIHRoaXMuZWRpdEZvcm1EYXRhID0gcm93CiAgICAgIHRoaXMudmlzaWJsZU1vZGlmeUZvcm0gPSB0cnVlCiAgICB9LAoKICAgIC8qKgogICAgICog5pu05paw55So5oi3CiAgICAgKi8KICAgIG1vZGlmeVN0dWRlbnQobW9kaWZ5RGF0YSkgewogICAgICBtb2RpZnkobW9kaWZ5RGF0YSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7bWVzc2FnZTogIuabtOaWsOaIkOWKnyIsIHR5cGU6ICJzdWNjZXNzIn0pCiAgICAgICAgICB0aGlzLmFsbFN0dWRlbnQoKQogICAgICAgICAgdGhpcy52aXNpYmxlRm9ybSA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pu05paw5aSx6LSlIikKICAgICAgICB9KTsKICAgIH0sCgogICAgaGFuZGxlU2l6ZUNoYW5nZSgpIHsKICAgIH0sCgogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2KSB7CiAgICAgIHRoaXMucGFnZSA9IHYKICAgICAgdGhpcy5hbGxTdHVkZW50KCkKICAgIH0sCiAgICBzaG93QWRkRm9ybSgpIHsKICAgICAgdGhpcy52aXNpYmxlQWRkRm9ybSA9IHRydWU7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["HealthList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HealthList.vue","sourceRoot":"src/views/Health","sourcesContent":["<template>\n  <div>\n    <!-- 功能 -->\n    <div class=\"header-menu\">\n      <el-input class=\"header-search\" placeholder=\"搜索健康打卡记录（学号）\" v-model=\"keyword.keyword\" style=\"width:20%;\">\n      </el-input>\n\n      <el-select v-model=\"keyword.cough\" placeholder=\"咳嗽\" clearable>\n        <el-option key=\"all\" label=\"全部\" value=\" \"></el-option>\n        <el-option key=\"0\" label=\"无\" value=\"0\"></el-option>\n        <el-option key=\"1\" label=\"有\" value=\"1\"></el-option>\n      </el-select>\n\n      <el-select v-model=\"keyword.fever\" placeholder=\"发烧\" clearable>\n        <el-option key=\"all\" label=\"全部\" value=\" \"></el-option>\n        <el-option key=\"0\" label=\"无\" value=\"0\"></el-option>\n        <el-option key=\"1\" label=\"有\" value=\"1\"></el-option>\n      </el-select>\n\n      <el-select v-model=\"keyword.temperature\" placeholder=\"体温\" clearable>\n        <el-option key=\"1\" label=\"异常\" value=\"37.2\"></el-option>\n      </el-select>\n\n      <el-button class=\"header-search\" slot=\"append\" type=\"primary\" icon=\"el-icon-search\" @click=\"searchStudent\">搜索\n      </el-button>\n\n      <el-button type=\"primary\" @click=\"showAddForm()\" class=\"addbtn\">添加</el-button>\n\n      <el-button class=\"header-search\" type=\"primary\" icon=\"el-icon-document\" @click=\"handleDownload\">\n        导出Excel\n      </el-button>\n\n    </div>\n    <!-- 数据显示 -->\n    <el-table :data=\"studentData\" size=\"mini\" :stripe=\"true\" :highlight-current-row=\"true\">\n      <el-table-column label=\"序号\" type=\"selection\"></el-table-column>\n      <el-table-column prop=\"userId\" label=\"学号\" fixed width=\"100\"></el-table-column>\n      <el-table-column prop=\"username\" label=\"姓名\"></el-table-column>\n      <el-table-column prop=\"dept\" label=\"学院\"></el-table-column>\n      <el-table-column prop=\"major\" label=\"班级\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"时间\"></el-table-column>\n      <el-table-column prop=\"type\" label=\"时间段\"></el-table-column>\n      <el-table-column prop=\"visit\" label=\"行程轨迹\"></el-table-column>\n      <el-table-column prop=\"temperature\" label=\"体温\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.temperature>37.2\" type=\"danger\" effect=\"dark\">{{scope.row.temperature}}</el-tag>\n          <el-tag v-else plain>{{scope.row.temperature}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"cough\" label=\"咳嗽\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.cough==0\" plain>无</el-tag>\n          <el-tag v-else-if=\"scope.row.cough==1\" type=\"danger\" effect=\"dark\">有</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"fever\" label=\"发烧\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.fever==0\" plain>无</el-tag>\n          <el-tag v-else-if=\"scope.row.fever==1\" type=\"danger\" effect=\"dark\">有</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"operation\" label=\"操作\" fixed=\"right\" width=\"220\">\n        <template slot-scope=\"scope\">\n          <!--      <el-button type=\"text\" icon=\"el-icon-setting\" size=\"mini\" @click=\"resetById(scope.$index, scope.row)\">重置密码</el-button>-->\n          <!--          <el-button v-if=\"scope.row.status==0\" type=\"success\" icon=\"el-icon-check\" circle-->\n          <!--                     @click=\"statusById(scope.$index, scope.row, 1)\"></el-button>-->\n          <!--          <el-button v-if=\"scope.row.status==0\" type=\"danger\" icon=\"el-icon-close\" circle-->\n          <!--                     @click=\"statusById(scope.$index, scope.row, 2)\"></el-button>-->\n          <!--          <el-button v-if=\"role == 'normal'\" type=\"primary\" icon=\"el-icon-edit\" circle-->\n          <!--                     @click=\"showEditForm(scope.$index, scope.row)\"></el-button>-->\n          <el-button icon=\"el-icon-delete\" circle @click=\"deleteById(scope.$index, scope.row)\"></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"添加\" :visible.sync=\"visibleAddForm\">\n      <el-form\n              :model=\"addFormdata\"\n              label-position=\"left\"\n              label-width=\"80px\"\n              :rules=\"editFormRules\"\n      >\n        <el-form-item label=\"学号\" prop=\"userId\">\n          <el-input v-model=\"addFormdata.userId\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"时间段\" prop=\"type\">\n          <el-radio-group v-model=\"addFormdata.type\">\n            <el-radio-button label=\"上午\">上午</el-radio-button>\n            <el-radio-button label=\"中午\">中午</el-radio-button>\n            <el-radio-button label=\"下午\">下午</el-radio-button>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"行程轨迹\" prop=\"visit\">\n          <el-input v-model=\"addFormdata.visit\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"体温\" prop=\"temperature\">\n          <el-input type=\"number\" v-model=\"addFormdata.temperature\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"咳嗽\" prop=\"cough\">\n          <el-radio v-model=\"addFormdata.cough\" label=\"0\" border>无</el-radio>\n          <el-radio v-model=\"addFormdata.cough\" label=\"1\" border>有</el-radio>\n        </el-form-item>\n        <el-form-item label=\"发烧\" prop=\"fever\">\n          <el-radio v-model=\"addFormdata.fever\" label=\"0\" border>无</el-radio>\n          <el-radio v-model=\"addFormdata.fever\" label=\"1\" border>有</el-radio>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"visibleAddForm = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addCommit()\">提 交</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"编辑\" :visible.sync=\"visibleModifyForm\">\n      <el-form\n              :model=\"editFormData\"\n              label-position=\"left\"\n              label-width=\"80px\">\n        <el-form-item label=\"学号\" prop=\"userId\">\n          <el-input v-model=\"editFormData.userId\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"时间段\" prop=\"type\">\n          <el-radio-group v-model=\"editFormData.type\">\n            <el-radio-button label=\"admin\">辅导员</el-radio-button>\n            <el-radio-button label=\"normal\">学生</el-radio-button>\n            <el-radio-button label=\"ban\">封禁用户</el-radio-button>\n            <el-radio-button label=\"other\">其他用户</el-radio-button>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"行程轨迹\" prop=\"visit\">\n          <el-input v-model=\"editFormData.visit\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"体温\" prop=\"temperature\">\n          <el-input type=\"number\" v-model=\"editFormData.temperature\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"咳嗽\" prop=\"cough\">\n          <el-radio v-model=\"editFormData.cough\" label=\"0\" border>无</el-radio>\n          <el-radio v-model=\"editFormData.cough\" label=\"1\" border>有</el-radio>\n        </el-form-item>\n        <el-form-item label=\"发烧\" prop=\"fever\">\n          <el-radio v-model=\"editFormData.fever\" label=\"0\" border>无</el-radio>\n          <el-radio v-model=\"editFormData.fever\" label=\"1\" border>有</el-radio>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"visibleModifyForm = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"commit()\">提 交</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 上一页，当前页，下一页 -->\n    <div class=\"footer-button\">\n      <el-pagination\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page.sync=\"page\"\n              :page-size=\"pageSize\"\n              layout=\"total, prev, pager, next\"\n              :total=\"total\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {add, del, modify, get, search} from \"@/api/health\";\n\n  export default {\n    name: \"HealthList\",\n    // components: { FilenameOption, AutoWidthOption, BookTypeOption },\n    data() {\n      return {\n        role: this.$store.state.user.roles,\n        studentData: [],\n        editFormData: [],\n        addFormdata: {\n          userId: this.$store.state.user.id,\n        },\n        visibleAddForm: false,\n        visibleModifyForm: false,\n        keyword: {\n          group: '',\n          keyword: '',\n          fever: '',\n          temperature: '',\n          cough: '',\n          role: this.$store.state.user.roles,\n          userId: this.$store.state.user.id,\n          major: this.$store.state.user.major\n        },\n        page: 1,\n        pageSize: 10,\n        total: 0,\n        value1: \"\", // 年级\n        value2: \"\", // 班级\n        type: [\n          {\n            value: \"1\",\n            label: \"\"\n          }\n        ],\n        visibleForm: false,\n        editFormRules: {\n          username: [{required: true, message: \"请输入昵称\", trigger: \"blur\"}],\n          realname: [{required: true, message: \"请输入姓名\", trigger: \"blur\"}],\n          telephone: [{required: true, message: \"请输入联系电话\", trigger: \"blur\"}],\n          email: [{required: true, message: \"请输入邮件\", trigger: \"blur\"}],\n          address: [{required: true, message: \"请输入地址\", trigger: \"blur\"}],\n        }\n      };\n    },\n\n    mounted() {\n      this.allStudent();\n    },\n\n    methods: {\n      handleDownload() {\n        this.downloadLoading = true\n        import('@/vendor/Export2Excel').then(excel => {\n          const tHeader = ['学号','时间' ,'时间段', '行程轨迹', '体温', '咳嗽','发烧']\n          const filterVal = ['userId','createTime', 'type', 'visit', 'temperature', 'cough','fever']\n          const list = this.studentData\n          const data = this.formatJson(filterVal, list)\n          excel.export_json_to_excel({\n            header: tHeader,\n            data,\n            filename: this.filename,\n            autoWidth: this.autoWidth,\n            bookType: this.bookType\n          })\n        })\n      },\n      formatJson(filterVal, jsonData) {\n        return jsonData.map(v => filterVal.map(j => {\n          if (j === 'fever'|| j === 'cough') {\n            return this.formatH1(v[j])\n          } else {\n            return v[j]\n          }\n        }))\n      }\n      ,\n      formatH1(data){\n        if (data == '0') {\n          return '无'\n        }else{\n          return '有'\n        }\n      }\n      ,\n      statusFormatter(data) {\n        if (data.status == '0') {\n          return '待审批'\n        }\n      },\n      addStudent() {\n        this.visibleAddForm = true;\n      },\n      addCommit() {\n        console.log(this.addFormdata);\n        add(this.addFormdata)\n          .then(res => {\n            if (res.code == 0) {\n              this.visibleAddForm = false;\n              this.$message({message: \"添加成功\", type: \"success\"});\n              this.allStudent()\n            }\n          })\n          .catch(error => {\n            this.$message.error(\"添加失败\");\n          });\n      },\n      // 清空年级回到查询所有用户\n      gradeListener() {\n        this.allStudent()\n        this.value2 = ''\n      },\n\n      // 清空班级回到查询所有班级\n      classListener() {\n\n      },\n\n      /***\n       * 编辑提交\n       */\n      commit() {\n        this.modifyStudent(this.editFormData)\n      },\n\n      inputListener() {\n        this.allStudent()\n      },\n\n      /**\n       * 查询所有\n       */\n      allStudent() {\n        get(this.page,this.pageSize,this.role,\n          this.keyword.userId, this.keyword.major).then(res => {\n          let ret = res.data\n          console.log(ret)\n          this.studentData = ret.records\n          this.total = ret.total\n        })\n          .catch(error => {\n            this.$message.error(\"查询列表失败\")\n          });\n      },\n\n      /**\n       * 关键字查询\n       */\n      searchStudent() {\n        search(this.keyword)\n          .then(res => {\n            let ret = res.data\n            this.studentData = ret.records\n            this.total = ret.total\n            this.$message({message: \"查询成功\", type: \"success\"})\n          })\n          .catch(error => {\n            this.$message.error(\"查询失败\")\n          });\n      },\n\n      resetById(index, row) {\n        this.resetPassword(row.id);\n      },\n\n      resetPassword(id) {\n        modify({\"id\": id, \"password\": \"123456\"})\n          .then(res => {\n            this.$message({message: \"重置密码成功\", type: \"success\"});\n          })\n          .catch(error => {\n            this.$message.error(\"重置密码失败\");\n          });\n      },\n\n      deleteById(index, row) {\n        this.deleteRequestById(row.id)\n      },\n\n      deleteRequestById(id) {\n        del(id).then(res => {\n          this.$message({message: \"删除成功\", type: \"success\"})\n          this.allStudent()\n        }).catch(error => {\n          this.$message.error(\"删除失败\")\n        });\n      },\n\n      /*审核状态*/\n      statusById(index, row, status) {\n        this.statusRequestById(row.id, status)\n      },\n\n      statusRequestById(id, status) {\n        modify({\"id\": id, \"status\": status}).then(res => {\n          this.$message({message: \"处理成功\", type: \"success\"})\n          this.allStudent()\n        }).catch(error => {\n          this.$message.error(\"处理失败\")\n        });\n      },\n\n      /**\n       * 编辑用户\n       */\n      showEditForm(index, row) {\n        this.editFormData = row\n        this.visibleModifyForm = true\n      },\n\n      /**\n       * 更新用户\n       */\n      modifyStudent(modifyData) {\n        modify(modifyData)\n          .then(res => {\n            this.$message({message: \"更新成功\", type: \"success\"})\n            this.allStudent()\n            this.visibleForm = false\n          })\n          .catch(error => {\n            this.$message.error(\"更新失败\")\n          });\n      },\n\n      handleSizeChange() {\n      },\n\n      handleCurrentChange(v) {\n        this.page = v\n        this.allStudent()\n      },\n      showAddForm() {\n        this.visibleAddForm = true;\n      },\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .el-input-group {\n    width: 40%;\n  }\n\n  .header-menu {\n    margin-bottom: 5px;\n    padding: 5px;\n    text-align: left;\n    margin-bottom: 5px;\n  }\n\n  .footer-button {\n    margin-top: 10px;\n  }\n\n  .addbtn {\n    margin-left: 25px;\n  }\n\n  .header-search {\n    margin-left: 5px;\n  }\n</style>\n"]}]}