{"remainingRequest":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/songyu/IdeaProjects/yiqing-admin-1/src/views/MedicineMap/MedicineMap.vue?vue&type=style&index=0&id=0f8ec30b&scoped=true&lang=css&","dependencies":[{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/src/views/MedicineMap/MedicineMap.vue","mtime":1617498162204},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWlucHV0LWdyb3VwIHsKICB3aWR0aDogMjAlOwogIG1hcmdpbi1sZWZ0OiAzMHB4Owp9CgouaGVhZGVyLW1lbnUgewogIG1hcmdpbi1ib3R0b206IDVweDsKICBwYWRkaW5nOiA1cHg7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBtYXJnaW4tYm90dG9tOiA1cHg7Cn0K"},{"version":3,"sources":["MedicineMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"MedicineMap.vue","sourceRoot":"src/views/MedicineMap","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"header-menu\">\r\n      <el-button type=\"success\" @click.native=\"refresh()\" icon=\"el-icon-refresh\" >更新</el-button>\r\n\r\n      <el-input placeholder=\"搜索药材产地\" v-model=\"keyword\" clearable>\r\n        <el-button slot=\"append\" type=\"primary\" icon=\"el-icon-search\" @click=\"searchPlace\">搜索</el-button>\r\n      </el-input>\r\n      <!--      <el-select v-model=\"value1\" placeholder=\"年级\" @change=\"queryClass\" @clear=\"gradeListener\" clearable>-->\r\n      <!--        <el-option v-for=\"item in grade\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>-->\r\n      <!--      </el-select>-->\r\n      <!--      <el-select v-model=\"value2\" placeholder=\"班级\" @change=\"queryStudentByClass\" @clear=\"classListener\" clearable>-->\r\n      <!--        <el-option-->\r\n      <!--          v-for=\"item in classNo\"-->\r\n      <!--          :key=\"item.value\"-->\r\n      <!--          :label=\"item.label\"-->\r\n      <!--          :value=\"item.value\"-->\r\n      <!--        ></el-option>-->\r\n      <!--      </el-select>-->\r\n    </div>\r\n    <div>\r\n      <Map ref=\"map\" :title=\"keyword+'产地'\" :data=\"mapData\"></Map>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import Map from \"@/views/dashboard/admin/components/Map\";\r\n  import {search,refresh} from \"@/api/chart\";\r\n\r\n  export default {\r\n    name: \"MedicineMap\",\r\n    components:{\r\n      Map\r\n    },\r\n    data(){\r\n      return{\r\n        title: \"\",\r\n        keyword: \"\",\r\n        mapData:[]\r\n      }\r\n    },\r\n    methods:{\r\n      // sleep(d){\r\n      //   for(var t = Date.now();Date.now() - t <= d;);\r\n      // },\r\n      searchPlace(){\r\n        if(this.keyword.length == 0){\r\n          this.$message.error(\"请输入药材名\");\r\n          return false\r\n        }\r\n        search(this.keyword).then(res => {\r\n          this.mapData = res.data\r\n          // console.log(\"mapData:\")\r\n          // console.log(this.mapData)\r\n          this.$message({ message: \"搜索成功\", type: \"success\" })\r\n          // this.sleep(2000)\r\n          // this.$refs.map.chinaConfigure()\r\n        }).\r\n        catch(error => {\r\n          this.$message.error(\"搜索失败\")\r\n        })\r\n      },\r\n\r\n      refresh(){\r\n        refresh().then(res => {\r\n          this.$message({ message: \"更新地图产地数据成功\", type: \"success\" });}).\r\n        catch(error => {this.$message.error(\"更新地图产地数据失败\");})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .el-input-group {\r\n    width: 20%;\r\n    margin-left: 30px;\r\n  }\r\n\r\n  .header-menu {\r\n    margin-bottom: 5px;\r\n    padding: 5px;\r\n    text-align: left;\r\n    margin-bottom: 5px;\r\n  }\r\n</style>\r\n"]}]}