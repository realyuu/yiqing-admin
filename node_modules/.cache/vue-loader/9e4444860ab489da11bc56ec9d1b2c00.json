{"remainingRequest":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/songyu/IdeaProjects/yiqing-admin-1/src/components/TagsCloud/tagsCloud.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/src/components/TagsCloud/tagsCloud.vue","mtime":1611829262982},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewoJcHJvcHM6IFsndXNlQXJyYXknLCAnYm94V2lkdGgnLCAnc3BlZWQnLCAncmFuZG9tQ29sb3InXSwKCglkYXRhKCkgewoJCXJldHVybiB7CgkJCXNwZWVkWDogTWF0aC5QSSAvIHRoaXMuc3BlZWQsCgkJCXNwZWVkWTogTWF0aC5QSSAvIHRoaXMuc3BlZWQKCQl9OwoJfSwKCWNvbXB1dGVkOiB7CgkJcmFkaXVzKCkgewoJCQlyZXR1cm4gdGhpcy5ib3hXaWR0aCAvIDM7CgkJfSwKCQlDWCgpIHsKCQkJLy/nkIPlv4N45Z2Q5qCHCgkJCXJldHVybiB0aGlzLmJveFdpZHRoIC8gMjsKCQl9LAoJCUNZKCkgewoJCQkvL+eQg+W/g3nlnZDmoIcKCQkJcmV0dXJuIHRoaXMuYm94V2lkdGggLyAyOwoJCX0sCgkJRVgoKSB7CgkJCXJldHVybiB0aGlzLmJveFdpZHRoICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7CgkJfSwKCQlFWSgpIHsKCQkJcmV0dXJuIHRoaXMuYm94V2lkdGggKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5pbml0KCk7Cgl9LAoJbW91bnRlZCgpIHsKCQkvL+S9v+eQg+W8gOWni+aXi+i9rAoJCXNldEludGVydmFsKCgpID0+IHsKCQkJdGhpcy5yb3RhdGVYKCk7CgkJCXRoaXMucm90YXRlWSgpOwoJCX0sIDEwKTsKCX0sCgltZXRob2RzOiB7CgkJaW5pdCgpIHsKCQkJbGV0IHdpbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKCQkJaWYgKHRoaXMuYm94V2lkdGggPiB3aW5XaWR0aCkgewoJCQkJdGhpcy5ib3hXaWR0aCA9IHdpbldpZHRoOwoJCQl9CgkJCXRoaXMudXNlQXJyYXkuZm9yRWFjaCgoaXRlbSwga2V5KSA9PiB7CgkJCQlsZXQgayA9IC0xICsgKDIgKiAoa2V5ICsgMSkgLSAxKSAvIHRoaXMudXNlQXJyYXkubGVuZ3RoOwoJCQkJbGV0IGEgPSBNYXRoLmFjb3Moayk7CgkJCQlsZXQgYiA9IGEgKiBNYXRoLnNxcnQodGhpcy51c2VBcnJheS5sZW5ndGggKiBNYXRoLlBJKTsKCgkJCQkvLyBYLFksWgoJCQkJVnVlLnNldChpdGVtLCAneCcsIHRoaXMucmFkaXVzICogTWF0aC5zaW4oYSkgKiBNYXRoLmNvcyhiKSArIHRoaXMuQ1gpOwoJCQkJVnVlLnNldChpdGVtLCAneScsIHRoaXMucmFkaXVzICogTWF0aC5zaW4oYSkgKiBNYXRoLnNpbihiKSArIHRoaXMuQ1gpOwoJCQkJVnVlLnNldChpdGVtLCAneicsIHRoaXMucmFkaXVzICogTWF0aC5jb3MoYSkpOwoKCQkJCS8vIOmaj+acuuiJsgoJCQkJaWYgKHRoaXMucmFuZG9tQ29sb3IpIHsKCQkJCQlWdWUuc2V0KGl0ZW0sICdyY29sb3InLCAncmdiKCcgKyBwYXJzZUludChNYXRoLnJhbmRvbSgpICogMjU1KSArICcsJyArIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAyNTUpICsgJywnICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDI1NSkgKyAnKScpOwoJCQkJfQoKCQkJCS8vIFotaW5kZXgKCQkJCWxldCBzY2FsZSA9IHRoaXMuYm94V2lkdGggLyAodGhpcy5ib3hXaWR0aCAtIGl0ZW0ueik7CgkJCQlWdWUuc2V0KGl0ZW0sICd6aW5kZXhWYWwnLCBwYXJzZUludChzY2FsZSAqIDEwMCkpOwoJCQl9KTsKCQl9LAoJCXJvdGF0ZVgoKSB7CgkJCXZhciBjb3MgPSBNYXRoLmNvcyh0aGlzLnNwZWVkWCk7CgkJCXZhciBzaW4gPSBNYXRoLnNpbih0aGlzLnNwZWVkWCk7CgkJCS8vIGZvciAobGV0IHRhZyBvZiB0aGlzLnVzZUFycmF5KSB7CgkJCS8vIAl2YXIgeTEgPSAodGFnLnkgLSB0aGlzLkNZKSAqIGNvcyAtIHRhZy56ICogc2luICsgdGhpcy5DWTsKCQkJLy8gCXZhciB6MSA9IHRhZy56ICogY29zICsgKHRhZy55IC0gdGhpcy5DWSkgKiBzaW47CgkJCS8vIAl0YWcueSA9IHkxOwoJCQkvLyAJdGFnLnogPSB6MTsKCQkJLy8gfQoJCQl0aGlzLnVzZUFycmF5LmZvckVhY2goKGl0ZW0sIGtleSkgPT4gewoJCQkJdmFyIHkxID0gKGl0ZW0ueSAtIHRoaXMuQ1kpICogY29zIC0gaXRlbS56ICogc2luICsgdGhpcy5DWTsKCQkJCXZhciB6MSA9IGl0ZW0ueiAqIGNvcyArIChpdGVtLnkgLSB0aGlzLkNZKSAqIHNpbjsKCQkJCWl0ZW0ueSA9IHkxOwoJCQkJaXRlbS56ID0gejE7CgoJCQkJbGV0IHNjYWxlID0gdGhpcy5ib3hXaWR0aCAvICh0aGlzLmJveFdpZHRoIC0gaXRlbS56KTsKCQkJCWl0ZW0uemluZGV4VmFsID0gcGFyc2VJbnQoc2NhbGUgKiAxMDApOwoJCQl9KTsKCQl9LAoJCXJvdGF0ZVkoKSB7CgkJCXZhciBjb3MgPSBNYXRoLmNvcyh0aGlzLnNwZWVkWSk7CgkJCXZhciBzaW4gPSBNYXRoLnNpbih0aGlzLnNwZWVkWSk7CgkJCXRoaXMudXNlQXJyYXkuZm9yRWFjaChpdGVtID0+IHsKCQkJCXZhciB4MSA9IChpdGVtLnggLSB0aGlzLkNYKSAqIGNvcyAtIGl0ZW0ueiAqIHNpbiArIHRoaXMuQ1g7CgkJCQl2YXIgejEgPSBpdGVtLnogKiBjb3MgKyAoaXRlbS54IC0gdGhpcy5DWCkgKiBzaW47CgkJCQlpdGVtLnggPSB4MTsKCQkJCWl0ZW0ueiA9IHoxOwoKCQkJCWxldCBzY2FsZSA9IHRoaXMuYm94V2lkdGggLyAodGhpcy5ib3hXaWR0aCAtIGl0ZW0ueik7CgkJCQlpdGVtLnppbmRleFZhbCA9IHBhcnNlSW50KHNjYWxlICogMTAwKTsKCQkJfSk7CgkJfSwKCQlsaXN0ZW5lcihldmVudCkgewoJCQkvL+WTjeW6lOm8oOagh+enu+WKqAoJCQl2YXIgcmVmWCA9IHRoaXMuJHJlZnMuUGFuZWwub2Zmc2V0TGVmdDsKCQkJdmFyIHJlZlkgPSB0aGlzLiRyZWZzLlBhbmVsLm9mZnNldFRvcDsKCQkJdmFyIHggPSBldmVudC5jbGllbnRYIC0gcmVmWCAtIHRoaXMuQ1g7CgkJCXZhciB5ID0gZXZlbnQuY2xpZW50WSAtIHJlZlkgLSB0aGlzLkNZOwoKCQkJLy8gdGhpcy54ICsgQ1ggLSB0aGlzLmVsZS5vZmZzZXRXaWR0aC8yICsicHgiOwoJCQl0aGlzLnNwZWVkWSA9IHggKiAwLjAwMDEgPiAwID8gTWF0aC5taW4odGhpcy5yYWRpdXMgKiAwLjAwMDAyLCB4ICogMC4wMDAxKSA6IE1hdGgubWF4KC10aGlzLnJhZGl1cyAqIDAuMDAwMDIsIHggKiAwLjAwMDEpOwoJCQl0aGlzLnNwZWVkWCA9IHkgKiAwLjAwMDEgPiAwID8gTWF0aC5taW4odGhpcy5yYWRpdXMgKiAwLjAwMDAyLCB5ICogMC4wMDAxKSA6IE1hdGgubWF4KC10aGlzLnJhZGl1cyAqIDAuMDAwMDIsIHkgKiAwLjAwMDEpOwoJCX0sCgkJdG9VcmwodXJsKSB7CgkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsOwoJCX0KCX0KfTsK"},{"version":3,"sources":["tagsCloud.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tagsCloud.vue","sourceRoot":"src/components/TagsCloud","sourcesContent":["<template>\n\t<div class=\"page\">\n\t\t<div class=\"tagsCloud\" :style=\"{ height: boxWidth + 'px', width: boxWidth + 'px' }\" ref=\"Panel\" @mousemove=\"listener($event)\">\n\t\t\t<div\n\t\t\t\tclass=\"item\"\n\t\t\t\tv-for=\"(item, index) in useArray\"\n\t\t\t\t:key=\"index\"\n\t\t\t\t:style=\"[\n\t\t\t\t\t{ opacity: (400 + item.z) / 600 },\n\t\t\t\t\t{ 'font-size': 12 * (600 / (400 - item.z)) + 'px' },\n\t\t\t\t\t{ left: item.x + 'px' },\n\t\t\t\t\t{ top: item.y + 'px' },\n\t\t\t\t\t{ zIndex: item.zindexVal },\n\t\t\t\t\t{ display: 'inline-block' },\n\t\t\t\t\t{ color: item.rcolor }\n\t\t\t\t]\"\n\t\t\t\t@click=\"toUrl(item.url)\"\n\t\t\t>\n\t\t\t\t{{ item.name }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Vue from 'vue';\nexport default {\n\tprops: ['useArray', 'boxWidth', 'speed', 'randomColor'],\n\n\tdata() {\n\t\treturn {\n\t\t\tspeedX: Math.PI / this.speed,\n\t\t\tspeedY: Math.PI / this.speed\n\t\t};\n\t},\n\tcomputed: {\n\t\tradius() {\n\t\t\treturn this.boxWidth / 3;\n\t\t},\n\t\tCX() {\n\t\t\t//球心x坐标\n\t\t\treturn this.boxWidth / 2;\n\t\t},\n\t\tCY() {\n\t\t\t//球心y坐标\n\t\t\treturn this.boxWidth / 2;\n\t\t},\n\t\tEX() {\n\t\t\treturn this.boxWidth + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t},\n\t\tEY() {\n\t\t\treturn this.boxWidth + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.init();\n\t},\n\tmounted() {\n\t\t//使球开始旋转\n\t\tsetInterval(() => {\n\t\t\tthis.rotateX();\n\t\t\tthis.rotateY();\n\t\t}, 10);\n\t},\n\tmethods: {\n\t\tinit() {\n\t\t\tlet winWidth = document.body.clientWidth;\n\t\t\tif (this.boxWidth > winWidth) {\n\t\t\t\tthis.boxWidth = winWidth;\n\t\t\t}\n\t\t\tthis.useArray.forEach((item, key) => {\n\t\t\t\tlet k = -1 + (2 * (key + 1) - 1) / this.useArray.length;\n\t\t\t\tlet a = Math.acos(k);\n\t\t\t\tlet b = a * Math.sqrt(this.useArray.length * Math.PI);\n\n\t\t\t\t// X,Y,Z\n\t\t\t\tVue.set(item, 'x', this.radius * Math.sin(a) * Math.cos(b) + this.CX);\n\t\t\t\tVue.set(item, 'y', this.radius * Math.sin(a) * Math.sin(b) + this.CX);\n\t\t\t\tVue.set(item, 'z', this.radius * Math.cos(a));\n\n\t\t\t\t// 随机色\n\t\t\t\tif (this.randomColor) {\n\t\t\t\t\tVue.set(item, 'rcolor', 'rgb(' + parseInt(Math.random() * 255) + ',' + parseInt(Math.random() * 255) + ',' + parseInt(Math.random() * 255) + ')');\n\t\t\t\t}\n\n\t\t\t\t// Z-index\n\t\t\t\tlet scale = this.boxWidth / (this.boxWidth - item.z);\n\t\t\t\tVue.set(item, 'zindexVal', parseInt(scale * 100));\n\t\t\t});\n\t\t},\n\t\trotateX() {\n\t\t\tvar cos = Math.cos(this.speedX);\n\t\t\tvar sin = Math.sin(this.speedX);\n\t\t\t// for (let tag of this.useArray) {\n\t\t\t// \tvar y1 = (tag.y - this.CY) * cos - tag.z * sin + this.CY;\n\t\t\t// \tvar z1 = tag.z * cos + (tag.y - this.CY) * sin;\n\t\t\t// \ttag.y = y1;\n\t\t\t// \ttag.z = z1;\n\t\t\t// }\n\t\t\tthis.useArray.forEach((item, key) => {\n\t\t\t\tvar y1 = (item.y - this.CY) * cos - item.z * sin + this.CY;\n\t\t\t\tvar z1 = item.z * cos + (item.y - this.CY) * sin;\n\t\t\t\titem.y = y1;\n\t\t\t\titem.z = z1;\n\n\t\t\t\tlet scale = this.boxWidth / (this.boxWidth - item.z);\n\t\t\t\titem.zindexVal = parseInt(scale * 100);\n\t\t\t});\n\t\t},\n\t\trotateY() {\n\t\t\tvar cos = Math.cos(this.speedY);\n\t\t\tvar sin = Math.sin(this.speedY);\n\t\t\tthis.useArray.forEach(item => {\n\t\t\t\tvar x1 = (item.x - this.CX) * cos - item.z * sin + this.CX;\n\t\t\t\tvar z1 = item.z * cos + (item.x - this.CX) * sin;\n\t\t\t\titem.x = x1;\n\t\t\t\titem.z = z1;\n\n\t\t\t\tlet scale = this.boxWidth / (this.boxWidth - item.z);\n\t\t\t\titem.zindexVal = parseInt(scale * 100);\n\t\t\t});\n\t\t},\n\t\tlistener(event) {\n\t\t\t//响应鼠标移动\n\t\t\tvar refX = this.$refs.Panel.offsetLeft;\n\t\t\tvar refY = this.$refs.Panel.offsetTop;\n\t\t\tvar x = event.clientX - refX - this.CX;\n\t\t\tvar y = event.clientY - refY - this.CY;\n\n\t\t\t// this.x + CX - this.ele.offsetWidth/2 +\"px\";\n\t\t\tthis.speedY = x * 0.0001 > 0 ? Math.min(this.radius * 0.00002, x * 0.0001) : Math.max(-this.radius * 0.00002, x * 0.0001);\n\t\t\tthis.speedX = y * 0.0001 > 0 ? Math.min(this.radius * 0.00002, y * 0.0001) : Math.max(-this.radius * 0.00002, y * 0.0001);\n\t\t},\n\t\ttoUrl(url) {\n\t\t\twindow.location.href = url;\n\t\t}\n\t}\n};\n</script>\n\n<style scoped lang=\"scss\">\n.tagsCloud {\n\tposition: relative;\n\tdisplay: inline-block;   //为了居中修改了，原属性是 block\n\tmax-width: 100%;\n}\n.item {\n\tposition: absolute;\n\tcursor: pointer;\n\ttext-align: center;\n\ttransform: translate(-50%, -50%);\n\tbackground-color: transparent;\n\toutline: none;\n\t&:hover {\n\t\tborder: 2px solid #666;\n\t}\n}\n</style>\n"]}]}