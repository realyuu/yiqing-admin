{"remainingRequest":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/songyu/IdeaProjects/yiqing-admin-1/src/components/TagsCloud/tagsCloud.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/src/components/TagsCloud/tagsCloud.vue","mtime":1611829262982},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/babel.config.js","mtime":1609384492193},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyd1c2VBcnJheScsICdib3hXaWR0aCcsICdzcGVlZCcsICdyYW5kb21Db2xvciddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcGVlZFg6IE1hdGguUEkgLyB0aGlzLnNwZWVkLAogICAgICBzcGVlZFk6IE1hdGguUEkgLyB0aGlzLnNwZWVkCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJhZGl1czogZnVuY3Rpb24gcmFkaXVzKCkgewogICAgICByZXR1cm4gdGhpcy5ib3hXaWR0aCAvIDM7CiAgICB9LAogICAgQ1g6IGZ1bmN0aW9uIENYKCkgewogICAgICAvL+eQg+W/g3jlnZDmoIcKICAgICAgcmV0dXJuIHRoaXMuYm94V2lkdGggLyAyOwogICAgfSwKICAgIENZOiBmdW5jdGlvbiBDWSgpIHsKICAgICAgLy/nkIPlv4N55Z2Q5qCHCiAgICAgIHJldHVybiB0aGlzLmJveFdpZHRoIC8gMjsKICAgIH0sCiAgICBFWDogZnVuY3Rpb24gRVgoKSB7CiAgICAgIHJldHVybiB0aGlzLmJveFdpZHRoICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7CiAgICB9LAogICAgRVk6IGZ1bmN0aW9uIEVZKCkgewogICAgICByZXR1cm4gdGhpcy5ib3hXaWR0aCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8v5L2/55CD5byA5aeL5peL6L2sCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnJvdGF0ZVgoKTsKCiAgICAgIF90aGlzLnJvdGF0ZVkoKTsKICAgIH0sIDEwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHdpbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKCiAgICAgIGlmICh0aGlzLmJveFdpZHRoID4gd2luV2lkdGgpIHsKICAgICAgICB0aGlzLmJveFdpZHRoID0gd2luV2lkdGg7CiAgICAgIH0KCiAgICAgIHRoaXMudXNlQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwga2V5KSB7CiAgICAgICAgdmFyIGsgPSAtMSArICgyICogKGtleSArIDEpIC0gMSkgLyBfdGhpczIudXNlQXJyYXkubGVuZ3RoOwogICAgICAgIHZhciBhID0gTWF0aC5hY29zKGspOwogICAgICAgIHZhciBiID0gYSAqIE1hdGguc3FydChfdGhpczIudXNlQXJyYXkubGVuZ3RoICogTWF0aC5QSSk7IC8vIFgsWSxaCgogICAgICAgIFZ1ZS5zZXQoaXRlbSwgJ3gnLCBfdGhpczIucmFkaXVzICogTWF0aC5zaW4oYSkgKiBNYXRoLmNvcyhiKSArIF90aGlzMi5DWCk7CiAgICAgICAgVnVlLnNldChpdGVtLCAneScsIF90aGlzMi5yYWRpdXMgKiBNYXRoLnNpbihhKSAqIE1hdGguc2luKGIpICsgX3RoaXMyLkNYKTsKICAgICAgICBWdWUuc2V0KGl0ZW0sICd6JywgX3RoaXMyLnJhZGl1cyAqIE1hdGguY29zKGEpKTsgLy8g6ZqP5py66ImyCgogICAgICAgIGlmIChfdGhpczIucmFuZG9tQ29sb3IpIHsKICAgICAgICAgIFZ1ZS5zZXQoaXRlbSwgJ3Jjb2xvcicsICdyZ2IoJyArIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAyNTUpICsgJywnICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDI1NSkgKyAnLCcgKyBwYXJzZUludChNYXRoLnJhbmRvbSgpICogMjU1KSArICcpJyk7CiAgICAgICAgfSAvLyBaLWluZGV4CgoKICAgICAgICB2YXIgc2NhbGUgPSBfdGhpczIuYm94V2lkdGggLyAoX3RoaXMyLmJveFdpZHRoIC0gaXRlbS56KTsKICAgICAgICBWdWUuc2V0KGl0ZW0sICd6aW5kZXhWYWwnLCBwYXJzZUludChzY2FsZSAqIDEwMCkpOwogICAgICB9KTsKICAgIH0sCiAgICByb3RhdGVYOiBmdW5jdGlvbiByb3RhdGVYKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyh0aGlzLnNwZWVkWCk7CiAgICAgIHZhciBzaW4gPSBNYXRoLnNpbih0aGlzLnNwZWVkWCk7IC8vIGZvciAobGV0IHRhZyBvZiB0aGlzLnVzZUFycmF5KSB7CiAgICAgIC8vIAl2YXIgeTEgPSAodGFnLnkgLSB0aGlzLkNZKSAqIGNvcyAtIHRhZy56ICogc2luICsgdGhpcy5DWTsKICAgICAgLy8gCXZhciB6MSA9IHRhZy56ICogY29zICsgKHRhZy55IC0gdGhpcy5DWSkgKiBzaW47CiAgICAgIC8vIAl0YWcueSA9IHkxOwogICAgICAvLyAJdGFnLnogPSB6MTsKICAgICAgLy8gfQoKICAgICAgdGhpcy51c2VBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICB2YXIgeTEgPSAoaXRlbS55IC0gX3RoaXMzLkNZKSAqIGNvcyAtIGl0ZW0ueiAqIHNpbiArIF90aGlzMy5DWTsKICAgICAgICB2YXIgejEgPSBpdGVtLnogKiBjb3MgKyAoaXRlbS55IC0gX3RoaXMzLkNZKSAqIHNpbjsKICAgICAgICBpdGVtLnkgPSB5MTsKICAgICAgICBpdGVtLnogPSB6MTsKICAgICAgICB2YXIgc2NhbGUgPSBfdGhpczMuYm94V2lkdGggLyAoX3RoaXMzLmJveFdpZHRoIC0gaXRlbS56KTsKICAgICAgICBpdGVtLnppbmRleFZhbCA9IHBhcnNlSW50KHNjYWxlICogMTAwKTsKICAgICAgfSk7CiAgICB9LAogICAgcm90YXRlWTogZnVuY3Rpb24gcm90YXRlWSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgY29zID0gTWF0aC5jb3ModGhpcy5zcGVlZFkpOwogICAgICB2YXIgc2luID0gTWF0aC5zaW4odGhpcy5zcGVlZFkpOwogICAgICB0aGlzLnVzZUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgeDEgPSAoaXRlbS54IC0gX3RoaXM0LkNYKSAqIGNvcyAtIGl0ZW0ueiAqIHNpbiArIF90aGlzNC5DWDsKICAgICAgICB2YXIgejEgPSBpdGVtLnogKiBjb3MgKyAoaXRlbS54IC0gX3RoaXM0LkNYKSAqIHNpbjsKICAgICAgICBpdGVtLnggPSB4MTsKICAgICAgICBpdGVtLnogPSB6MTsKICAgICAgICB2YXIgc2NhbGUgPSBfdGhpczQuYm94V2lkdGggLyAoX3RoaXM0LmJveFdpZHRoIC0gaXRlbS56KTsKICAgICAgICBpdGVtLnppbmRleFZhbCA9IHBhcnNlSW50KHNjYWxlICogMTAwKTsKICAgICAgfSk7CiAgICB9LAogICAgbGlzdGVuZXI6IGZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50KSB7CiAgICAgIC8v5ZON5bqU6byg5qCH56e75YqoCiAgICAgIHZhciByZWZYID0gdGhpcy4kcmVmcy5QYW5lbC5vZmZzZXRMZWZ0OwogICAgICB2YXIgcmVmWSA9IHRoaXMuJHJlZnMuUGFuZWwub2Zmc2V0VG9wOwogICAgICB2YXIgeCA9IGV2ZW50LmNsaWVudFggLSByZWZYIC0gdGhpcy5DWDsKICAgICAgdmFyIHkgPSBldmVudC5jbGllbnRZIC0gcmVmWSAtIHRoaXMuQ1k7IC8vIHRoaXMueCArIENYIC0gdGhpcy5lbGUub2Zmc2V0V2lkdGgvMiArInB4IjsKCiAgICAgIHRoaXMuc3BlZWRZID0geCAqIDAuMDAwMSA+IDAgPyBNYXRoLm1pbih0aGlzLnJhZGl1cyAqIDAuMDAwMDIsIHggKiAwLjAwMDEpIDogTWF0aC5tYXgoLXRoaXMucmFkaXVzICogMC4wMDAwMiwgeCAqIDAuMDAwMSk7CiAgICAgIHRoaXMuc3BlZWRYID0geSAqIDAuMDAwMSA+IDAgPyBNYXRoLm1pbih0aGlzLnJhZGl1cyAqIDAuMDAwMDIsIHkgKiAwLjAwMDEpIDogTWF0aC5tYXgoLXRoaXMucmFkaXVzICogMC4wMDAwMiwgeSAqIDAuMDAwMSk7CiAgICB9LAogICAgdG9Vcmw6IGZ1bmN0aW9uIHRvVXJsKHVybCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACAA,yDADA;AAGAC,MAHA,kBAGA;AACA;AACAC,kCADA;AAEAC;AAFA;AAIA,GARA;AASAC;AACAC,UADA,oBACA;AACA;AACA,KAHA;AAIAC,MAJA,gBAIA;AACA;AACA;AACA,KAPA;AAQAC,MARA,gBAQA;AACA;AACA;AACA,KAXA;AAYAC,MAZA,gBAYA;AACA;AACA,KAdA;AAeAC,MAfA,gBAeA;AACA;AACA;AAjBA,GATA;AA4BAC,SA5BA,qBA4BA;AACA;AACA,GA9BA;AA+BAC,SA/BA,qBA+BA;AAAA;;AACA;AACAC;AACA;;AACA;AACA,KAHA,EAGA,EAHA;AAIA,GArCA;AAsCAC;AACAC,QADA,kBACA;AAAA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,gEAHA,CAKA;;AACAC;AACAA;AACAA,wDARA,CAUA;;AACA;AACAA;AACA,SAbA,CAeA;;;AACA;AACAA;AACA,OAlBA;AAmBA,KAzBA;AA0BAC,WA1BA,qBA0BA;AAAA;;AACA;AACA,sCAFA,CAGA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACAC;AACAA;AAEA;AACAA;AACA,OARA;AASA,KA5CA;AA6CAC,WA7CA,qBA6CA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACAD;AACAA;AAEA;AACAA;AACA,OARA;AASA,KAzDA;AA0DAE,YA1DA,oBA0DAC,KA1DA,EA0DA;AACA;AACA;AACA;AACA;AACA,6CALA,CAOA;;AACA;AACA;AACA,KApEA;AAqEAC,SArEA,iBAqEAC,GArEA,EAqEA;AACAC;AACA;AAvEA;AAtCA","names":["props","data","speedX","speedY","computed","radius","CX","CY","EX","EY","created","mounted","setInterval","methods","init","Vue","rotateX","item","rotateY","listener","event","toUrl","url","window"],"sourceRoot":"src/components/TagsCloud","sources":["tagsCloud.vue"],"sourcesContent":["<template>\n\t<div class=\"page\">\n\t\t<div class=\"tagsCloud\" :style=\"{ height: boxWidth + 'px', width: boxWidth + 'px' }\" ref=\"Panel\" @mousemove=\"listener($event)\">\n\t\t\t<div\n\t\t\t\tclass=\"item\"\n\t\t\t\tv-for=\"(item, index) in useArray\"\n\t\t\t\t:key=\"index\"\n\t\t\t\t:style=\"[\n\t\t\t\t\t{ opacity: (400 + item.z) / 600 },\n\t\t\t\t\t{ 'font-size': 12 * (600 / (400 - item.z)) + 'px' },\n\t\t\t\t\t{ left: item.x + 'px' },\n\t\t\t\t\t{ top: item.y + 'px' },\n\t\t\t\t\t{ zIndex: item.zindexVal },\n\t\t\t\t\t{ display: 'inline-block' },\n\t\t\t\t\t{ color: item.rcolor }\n\t\t\t\t]\"\n\t\t\t\t@click=\"toUrl(item.url)\"\n\t\t\t>\n\t\t\t\t{{ item.name }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Vue from 'vue';\nexport default {\n\tprops: ['useArray', 'boxWidth', 'speed', 'randomColor'],\n\n\tdata() {\n\t\treturn {\n\t\t\tspeedX: Math.PI / this.speed,\n\t\t\tspeedY: Math.PI / this.speed\n\t\t};\n\t},\n\tcomputed: {\n\t\tradius() {\n\t\t\treturn this.boxWidth / 3;\n\t\t},\n\t\tCX() {\n\t\t\t//球心x坐标\n\t\t\treturn this.boxWidth / 2;\n\t\t},\n\t\tCY() {\n\t\t\t//球心y坐标\n\t\t\treturn this.boxWidth / 2;\n\t\t},\n\t\tEX() {\n\t\t\treturn this.boxWidth + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t},\n\t\tEY() {\n\t\t\treturn this.boxWidth + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.init();\n\t},\n\tmounted() {\n\t\t//使球开始旋转\n\t\tsetInterval(() => {\n\t\t\tthis.rotateX();\n\t\t\tthis.rotateY();\n\t\t}, 10);\n\t},\n\tmethods: {\n\t\tinit() {\n\t\t\tlet winWidth = document.body.clientWidth;\n\t\t\tif (this.boxWidth > winWidth) {\n\t\t\t\tthis.boxWidth = winWidth;\n\t\t\t}\n\t\t\tthis.useArray.forEach((item, key) => {\n\t\t\t\tlet k = -1 + (2 * (key + 1) - 1) / this.useArray.length;\n\t\t\t\tlet a = Math.acos(k);\n\t\t\t\tlet b = a * Math.sqrt(this.useArray.length * Math.PI);\n\n\t\t\t\t// X,Y,Z\n\t\t\t\tVue.set(item, 'x', this.radius * Math.sin(a) * Math.cos(b) + this.CX);\n\t\t\t\tVue.set(item, 'y', this.radius * Math.sin(a) * Math.sin(b) + this.CX);\n\t\t\t\tVue.set(item, 'z', this.radius * Math.cos(a));\n\n\t\t\t\t// 随机色\n\t\t\t\tif (this.randomColor) {\n\t\t\t\t\tVue.set(item, 'rcolor', 'rgb(' + parseInt(Math.random() * 255) + ',' + parseInt(Math.random() * 255) + ',' + parseInt(Math.random() * 255) + ')');\n\t\t\t\t}\n\n\t\t\t\t// Z-index\n\t\t\t\tlet scale = this.boxWidth / (this.boxWidth - item.z);\n\t\t\t\tVue.set(item, 'zindexVal', parseInt(scale * 100));\n\t\t\t});\n\t\t},\n\t\trotateX() {\n\t\t\tvar cos = Math.cos(this.speedX);\n\t\t\tvar sin = Math.sin(this.speedX);\n\t\t\t// for (let tag of this.useArray) {\n\t\t\t// \tvar y1 = (tag.y - this.CY) * cos - tag.z * sin + this.CY;\n\t\t\t// \tvar z1 = tag.z * cos + (tag.y - this.CY) * sin;\n\t\t\t// \ttag.y = y1;\n\t\t\t// \ttag.z = z1;\n\t\t\t// }\n\t\t\tthis.useArray.forEach((item, key) => {\n\t\t\t\tvar y1 = (item.y - this.CY) * cos - item.z * sin + this.CY;\n\t\t\t\tvar z1 = item.z * cos + (item.y - this.CY) * sin;\n\t\t\t\titem.y = y1;\n\t\t\t\titem.z = z1;\n\n\t\t\t\tlet scale = this.boxWidth / (this.boxWidth - item.z);\n\t\t\t\titem.zindexVal = parseInt(scale * 100);\n\t\t\t});\n\t\t},\n\t\trotateY() {\n\t\t\tvar cos = Math.cos(this.speedY);\n\t\t\tvar sin = Math.sin(this.speedY);\n\t\t\tthis.useArray.forEach(item => {\n\t\t\t\tvar x1 = (item.x - this.CX) * cos - item.z * sin + this.CX;\n\t\t\t\tvar z1 = item.z * cos + (item.x - this.CX) * sin;\n\t\t\t\titem.x = x1;\n\t\t\t\titem.z = z1;\n\n\t\t\t\tlet scale = this.boxWidth / (this.boxWidth - item.z);\n\t\t\t\titem.zindexVal = parseInt(scale * 100);\n\t\t\t});\n\t\t},\n\t\tlistener(event) {\n\t\t\t//响应鼠标移动\n\t\t\tvar refX = this.$refs.Panel.offsetLeft;\n\t\t\tvar refY = this.$refs.Panel.offsetTop;\n\t\t\tvar x = event.clientX - refX - this.CX;\n\t\t\tvar y = event.clientY - refY - this.CY;\n\n\t\t\t// this.x + CX - this.ele.offsetWidth/2 +\"px\";\n\t\t\tthis.speedY = x * 0.0001 > 0 ? Math.min(this.radius * 0.00002, x * 0.0001) : Math.max(-this.radius * 0.00002, x * 0.0001);\n\t\t\tthis.speedX = y * 0.0001 > 0 ? Math.min(this.radius * 0.00002, y * 0.0001) : Math.max(-this.radius * 0.00002, y * 0.0001);\n\t\t},\n\t\ttoUrl(url) {\n\t\t\twindow.location.href = url;\n\t\t}\n\t}\n};\n</script>\n\n<style scoped lang=\"scss\">\n.tagsCloud {\n\tposition: relative;\n\tdisplay: inline-block;   //为了居中修改了，原属性是 block\n\tmax-width: 100%;\n}\n.item {\n\tposition: absolute;\n\tcursor: pointer;\n\ttext-align: center;\n\ttransform: translate(-50%, -50%);\n\tbackground-color: transparent;\n\toutline: none;\n\t&:hover {\n\t\tborder: 2px solid #666;\n\t}\n}\n</style>\n"]}]}