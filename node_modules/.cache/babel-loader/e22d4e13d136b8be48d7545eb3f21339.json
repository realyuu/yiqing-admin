{"remainingRequest":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--14-0!/Users/songyu/IdeaProjects/yiqing-admin-1/src/store/modules/user.js","dependencies":[{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/src/store/modules/user.js","mtime":1621490959854},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/babel.config.js","mtime":1609384492193},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/songyu/IdeaProjects/yiqing-admin-1/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zb25neXUvSWRlYVByb2plY3RzL3lpcWluZy1hZG1pbi0xL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xNy4yQEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiwgbG9nb3V0LCBnZXRJbmZvIGFzIF9nZXRJbmZvLCBtb2RpZnkgYXMgX21vZGlmeSB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHJvdXRlciwgeyByZXNldFJvdXRlciB9IGZyb20gJ0Avcm91dGVyJzsKdmFyIHN0YXRlID0gewogIHRva2VuOiBnZXRUb2tlbigpLAogIHJlYWxuYW1lOiAnJywKICBhdmF0YXI6ICcnLAogIGludHJvZHVjdGlvbjogJycsCiAgcm9sZXM6ICcnLAogIC8v5Y6f54mI6YeM5piv5LiA5Liq5pWw57uECiAgdGVsZXBob25lOiAnJywKICBlbWFpbDogJycsCiAgaWQ6ICcnLAogIHVzZXJuYW1lOiAnJywKICBzdXBlcnBhc3N3b3JkOiAnJywKICBtYWpvcjogJycKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfSUQ6IGZ1bmN0aW9uIFNFVF9JRChzdGF0ZSwgaWQpIHsKICAgIHN0YXRlLmlkID0gaWQ7CiAgfSwKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBTRVRfSU5UUk9EVUNUSU9OOiBmdW5jdGlvbiBTRVRfSU5UUk9EVUNUSU9OKHN0YXRlLCBpbnRyb2R1Y3Rpb24pIHsKICAgIHN0YXRlLmludHJvZHVjdGlvbiA9IGludHJvZHVjdGlvbjsKICB9LAogIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgc3RhdGUucmVhbG5hbWUgPSBuYW1lOwogIH0sCiAgU0VUX0FWQVRBUjogZnVuY3Rpb24gU0VUX0FWQVRBUihzdGF0ZSwgYXZhdGFyKSB7CiAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgfSwKICBTRVRfUk9MRVM6IGZ1bmN0aW9uIFNFVF9ST0xFUyhzdGF0ZSwgcm9sZXMpIHsKICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7IC8vIGxldCAgX3JvbGVzID0gcm9sZXMuc3BsaXQoJywnKQogICAgLy8gX3JvbGVzLmZvckVhY2gociA9PiB7CiAgICAvLyAgIHN0YXRlLnJvbGVzLnB1c2gocikKICAgIC8vIH0pCiAgfSwKICBSRU1PVkVfUk9MRVM6IGZ1bmN0aW9uIFJFTU9WRV9ST0xFUyhzdGF0ZSkgewogICAgc3RhdGUucm9sZXMgPSAnJzsgLy8gc3RhdGUucm9sZXMuc3BsaWNlKDAsc3RhdGUucm9sZXMubGVuZ3RoKTsKICB9LAogIFNFVF9QSE9ORTogZnVuY3Rpb24gU0VUX1BIT05FKHN0YXRlLCBwaG9uZSkgewogICAgc3RhdGUudGVsZXBob25lID0gcGhvbmU7CiAgfSwKICBTRVRfRU1BSUw6IGZ1bmN0aW9uIFNFVF9FTUFJTChzdGF0ZSwgZW1haWwpIHsKICAgIHN0YXRlLmVtYWlsID0gZW1haWw7CiAgfSwKICBTRVRfVVNFUk5BTUU6IGZ1bmN0aW9uIFNFVF9VU0VSTkFNRShzdGF0ZSwgdXNlcm5hbWUpIHsKICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgfSwKICBTRVRfU1A6IGZ1bmN0aW9uIFNFVF9TUChzdGF0ZSwgc3VwZXJwYXNzd29yZCkgewogICAgc3RhdGUuc3VwZXJwYXNzd29yZCA9IHN1cGVycGFzc3dvcmQ7CiAgfSwKICBTRVRfTUFKT1I6IGZ1bmN0aW9uIFNFVF9NQUpPUihzdGF0ZSwgbWFqb3IpIHsKICAgIHN0YXRlLm1ham9yID0gbWFqb3I7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyB1c2VyIGxvZ2luCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICB2YXIgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IHVzZXJJbmZvLnBhc3N3b3JkOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2xvZ2luKHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudHJpbSgpLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIGRhdGEudG9rZW4pOwogICAgICAgIHNldFRva2VuKGRhdGEudG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIG1vZGlmeTogZnVuY3Rpb24gbW9kaWZ5KF9yZWYyLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciByZWFsbmFtZSA9IHVzZXJJbmZvLnJlYWxuYW1lLAogICAgICAgICAgdGVsZXBob25lID0gdXNlckluZm8udGVsZXBob25lLAogICAgICAgICAgZW1haWwgPSB1c2VySW5mby5lbWFpbDsKICAgICAgY29tbWl0KCdTRVRfTkFNRScsIHJlYWxuYW1lKTsKICAgICAgY29tbWl0KCdTRVRfUEhPTkUnLCB0ZWxlcGhvbmUpOwogICAgICBjb21taXQoJ1NFVF9FTUFJTCcsIGVtYWlsKTsKCiAgICAgIF9tb2RpZnkodXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gZ2V0IHVzZXIgaW5mbwogIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9nZXRJbmZvKHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsgLy8gY29uc29sZS5sb2coZGF0YS51c2VyaW5mbykKCiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICByZWplY3QoJ1ZlcmlmaWNhdGlvbiBmYWlsZWQsIHBsZWFzZSBMb2dpbiBhZ2Fpbi4nKTsKICAgICAgICB9CgogICAgICAgIHZhciBfZGF0YSR1c2VyaW5mbyA9IGRhdGEudXNlcmluZm8sCiAgICAgICAgICAgIGlkID0gX2RhdGEkdXNlcmluZm8uaWQsCiAgICAgICAgICAgIHJvbGVzID0gX2RhdGEkdXNlcmluZm8ucm9sZXMsCiAgICAgICAgICAgIHJlYWxuYW1lID0gX2RhdGEkdXNlcmluZm8ucmVhbG5hbWUsCiAgICAgICAgICAgIGF2YXRhciA9IF9kYXRhJHVzZXJpbmZvLmF2YXRhciwKICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBfZGF0YSR1c2VyaW5mby5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgZW1haWwgPSBfZGF0YSR1c2VyaW5mby5lbWFpbCwKICAgICAgICAgICAgdGVsZXBob25lID0gX2RhdGEkdXNlcmluZm8udGVsZXBob25lLAogICAgICAgICAgICB1c2VybmFtZSA9IF9kYXRhJHVzZXJpbmZvLnVzZXJuYW1lLAogICAgICAgICAgICBwYXNzd29yZCA9IF9kYXRhJHVzZXJpbmZvLnBhc3N3b3JkLAogICAgICAgICAgICBtYWpvciA9IF9kYXRhJHVzZXJpbmZvLm1ham9yOyAvL2NvbnNvbGUubG9nKHsgcm9sZXMsIHJlYWxuYW1lLCBhdmF0YXIsIGRlc2NyaXB0aW9uIH0pCiAgICAgICAgLy8gcm9sZXMgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheQoKICAgICAgICBpZiAoIXJvbGVzIHx8IHJvbGVzLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICByZWplY3QoJ+aaguaXoOWIhumFjeadg+mZkCBnZXRJbmZvOiByb2xlcyBtdXN0IGJlIGEgbm9uLW51bGwgYXJyYXkhJyk7CiAgICAgICAgfQoKICAgICAgICBjb21taXQoJ1NFVF9JRCcsIGlkKTsKICAgICAgICBjb21taXQoJ1NFVF9ST0xFUycsIHJvbGVzKTsKICAgICAgICBjb21taXQoJ1NFVF9OQU1FJywgcmVhbG5hbWUpOwogICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsIGF2YXRhcik7CiAgICAgICAgY29tbWl0KCdTRVRfSU5UUk9EVUNUSU9OJywgZGVzY3JpcHRpb24pOwogICAgICAgIGNvbW1pdCgnU0VUX0VNQUlMJywgZW1haWwpOwogICAgICAgIGNvbW1pdCgnU0VUX1BIT05FJywgdGVsZXBob25lKTsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSTkFNRScsIHVzZXJuYW1lKTsKICAgICAgICBjb21taXQoJ1NFVF9TUCcsIHBhc3N3b3JkKTsKICAgICAgICBjb21taXQoJ1NFVF9NQUpPUicsIG1ham9yKTsgLy8gY29uc29sZS5sb2coeyByb2xlcywgcmVhbG5hbWUsIGF2YXRhciwgZGVzY3JpcHRpb24sIGVtYWlsLCB0ZWxlcGhvbmUsIHVzZXJuYW1lIH0pCgogICAgICAgIHJlc29sdmUoZGF0YS51c2VyaW5mbyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyB1c2VyIGxvZ291dAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGUsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICBjb21taXQoJ1JFTU9WRV9ST0xFUycpOwogICAgICByZW1vdmVUb2tlbigpOwogICAgICByZXNldFJvdXRlcigpOwogICAgICBkaXNwYXRjaCgndGFnc1ZpZXcvZGVsQWxsVmlld3MnLCBudWxsLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgICAgcmVzb2x2ZSgpOyAvLyBsb2dvdXQoc3RhdGUudG9rZW4pLnRoZW4oKCkgPT4gewogICAgICAvLyAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpCiAgICAgIC8vICAgY29tbWl0KCdTRVRfUk9MRVMnLCBbXSkKICAgICAgLy8gICByZW1vdmVUb2tlbigpCiAgICAgIC8vICAgcmVzZXRSb3V0ZXIoKQogICAgICAvLwogICAgICAvLyAgIC8vIHJlc2V0IHZpc2l0ZWQgdmlld3MgYW5kIGNhY2hlZCB2aWV3cwogICAgICAvLyAgIC8vIHRvIGZpeGVkIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1lbGVtZW50LWFkbWluL2lzc3Vlcy8yNDg1CiAgICAgIC8vICAgZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbEFsbFZpZXdzJywgbnVsbCwgeyByb290OiB0cnVlIH0pCiAgICAgIC8vICAgcmVzb2x2ZSgpCiAgICAgIC8vIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgLy8gICByZWplY3QoZXJyb3IpCiAgICAgIC8vIH0pCiAgICB9KTsKICB9LAogIC8vIHJlbW92ZSB0b2tlbgogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgIGNvbW1pdCgnUkVNT1ZFX1JPTEVTJyk7CiAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgLy8gZHluYW1pY2FsbHkgbW9kaWZ5IHBlcm1pc3Npb25zCiAgY2hhbmdlUm9sZXM6IGZ1bmN0aW9uIGNoYW5nZVJvbGVzKF9yZWY2LCByb2xlKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgdG9rZW4sIF95aWVsZCRkaXNwYXRjaCwgcm9sZXMsIGFjY2Vzc1JvdXRlczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgdG9rZW4gPSByb2xlICsgJy10b2tlbic7CiAgICAgICAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCB0b2tlbik7CiAgICAgICAgICAgICAgc2V0VG9rZW4odG9rZW4pOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0SW5mbycpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF95aWVsZCRkaXNwYXRjaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcm9sZXMgPSBfeWllbGQkZGlzcGF0Y2gucm9sZXM7CiAgICAgICAgICAgICAgcmVzZXRSb3V0ZXIoKTsgLy8gZ2VuZXJhdGUgYWNjZXNzaWJsZSByb3V0ZXMgbWFwIGJhc2VkIG9uIHJvbGVzCgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3Blcm1pc3Npb24vZ2VuZXJhdGVSb3V0ZXMnLCByb2xlcywgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBhY2Nlc3NSb3V0ZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIC8vIGR5bmFtaWNhbGx5IGFkZCBhY2Nlc3NpYmxlIHJvdXRlcwogICAgICAgICAgICAgIHJvdXRlci5hZGRSb3V0ZXMoYWNjZXNzUm91dGVzKTsgLy8gcmVzZXQgdmlzaXRlZCB2aWV3cyBhbmQgY2FjaGVkIHZpZXdzCgogICAgICAgICAgICAgIGRpc3BhdGNoKCd0YWdzVmlldy9kZWxBbGxWaWV3cycsIG51bGwsIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["/Users/songyu/IdeaProjects/yiqing-admin-1/src/store/modules/user.js"],"names":["login","logout","getInfo","modify","getToken","setToken","removeToken","router","resetRouter","state","token","realname","avatar","introduction","roles","telephone","email","id","username","superpassword","major","mutations","SET_ID","SET_TOKEN","SET_INTRODUCTION","SET_NAME","name","SET_AVATAR","SET_ROLES","REMOVE_ROLES","SET_PHONE","phone","SET_EMAIL","SET_USERNAME","SET_SP","SET_MAJOR","actions","userInfo","commit","password","Promise","resolve","reject","trim","then","response","data","catch","error","userinfo","description","length","dispatch","root","resetToken","changeRoles","role","accessRoutes","addRoutes","namespaced"],"mappings":"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","sourcesContent":["import { login, logout, getInfo, modify } from '@/api/user'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport router, { resetRouter } from '@/router'\n\nconst state = {\n  token: getToken(),\n  realname: '',\n  avatar: '',\n  introduction: '',\n  roles: '',   //原版里是一个数组\n  telephone: '',\n  email: '',\n  id: '',\n  username: '',\n  superpassword: '',\n  major:''\n}\n\nconst mutations = {\n  SET_ID: (state, id) => {\n    state.id = id\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  },\n  SET_INTRODUCTION: (state, introduction) => {\n    state.introduction = introduction\n  },\n  SET_NAME: (state, name) => {\n    state.realname = name\n  },\n  SET_AVATAR: (state, avatar) => {\n    state.avatar = avatar\n  },\n  SET_ROLES: (state, roles) => {\n    state.roles = roles\n      // let  _roles = roles.split(',')\n      // _roles.forEach(r => {\n      //   state.roles.push(r)\n      // })\n  },\n  REMOVE_ROLES: (state) => {\n    state.roles = ''\n    // state.roles.splice(0,state.roles.length);\n  },\n  SET_PHONE: (state, phone) => {\n    state.telephone = phone\n  },\n  SET_EMAIL: (state, email) => {\n    state.email = email\n  },\n  SET_USERNAME: (state, username) => {\n    state.username = username\n  },\n  SET_SP: (state, superpassword) => {\n    state.superpassword = superpassword\n  },\n  SET_MAJOR: (state, major) => {\n    state.major = major\n  }\n}\n\nconst actions = {\n  // user login\n  login({ commit }, userInfo) {\n    const { username, password } = userInfo\n    return new Promise((resolve, reject) => {\n      login({ username: username.trim(), password: password }).then(response => {\n        const { data } = response\n        commit('SET_TOKEN', data.token)\n        setToken(data.token)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  modify({ commit }, userInfo) {\n    return new Promise((resolve, reject) => {\n      const {realname, telephone, email} = userInfo\n      commit('SET_NAME', realname)\n      commit('SET_PHONE', telephone)\n      commit('SET_EMAIL', email)\n      modify(userInfo).then(response => {\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // get user info\n  getInfo({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getInfo(state.token).then(response => {\n        const { data } = response\n        // console.log(data.userinfo)\n        if (!data) {\n          reject('Verification failed, please Login again.')\n        }\n\n        const { id, roles, realname, avatar, description, email, telephone, username, password, major  } = data.userinfo\n        //console.log({ roles, realname, avatar, description })\n        // roles must be a non-empty array\n        if (!roles || roles.length <= 0) {\n          reject('暂无分配权限 getInfo: roles must be a non-null array!')\n        }\n        commit('SET_ID', id)\n        commit('SET_ROLES', roles)\n        commit('SET_NAME', realname)\n        commit('SET_AVATAR', avatar)\n        commit('SET_INTRODUCTION', description)\n        commit('SET_EMAIL', email)\n        commit('SET_PHONE', telephone)\n        commit('SET_USERNAME', username)\n        commit('SET_SP', password)\n        commit('SET_MAJOR', major)\n        // console.log({ roles, realname, avatar, description, email, telephone, username })\n        resolve(data.userinfo)\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // user logout\n  logout({ commit, state, dispatch }) {\n    return new Promise((resolve, reject) => {\n      commit('SET_TOKEN', '')\n      commit('REMOVE_ROLES')\n      removeToken()\n      resetRouter()\n      dispatch('tagsView/delAllViews', null, { root: true })\n      resolve()\n\n      // logout(state.token).then(() => {\n      //   commit('SET_TOKEN', '')\n      //   commit('SET_ROLES', [])\n      //   removeToken()\n      //   resetRouter()\n      //\n      //   // reset visited views and cached views\n      //   // to fixed https://github.com/PanJiaChen/vue-element-admin/issues/2485\n      //   dispatch('tagsView/delAllViews', null, { root: true })\n      //   resolve()\n      // }).catch(error => {\n      //   reject(error)\n      // })\n    })\n  },\n\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      commit('SET_TOKEN', '')\n      commit('REMOVE_ROLES')\n      removeToken()\n      resolve()\n    })\n  },\n\n  // dynamically modify permissions\n  async changeRoles({ commit, dispatch }, role) {\n    const token = role + '-token'\n\n    commit('SET_TOKEN', token)\n    setToken(token)\n\n    const { roles } = await dispatch('getInfo')\n\n    resetRouter()\n\n    // generate accessible routes map based on roles\n    const accessRoutes = await dispatch('permission/generateRoutes', roles, { root: true })\n    // dynamically add accessible routes\n    router.addRoutes(accessRoutes)\n\n    // reset visited views and cached views\n    dispatch('tagsView/delAllViews', null, { root: true })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n"]}]}